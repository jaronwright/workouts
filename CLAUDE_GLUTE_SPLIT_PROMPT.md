# Add Glute Hypertrophy Split (Strong Curves / 3-2 Lower Body Focus)

## Usage

```bash
cd /Users/jaronwright/src/workouts
claude --dangerously-skip-permissions "$(cat CLAUDE_GLUTE_SPLIT_PROMPT.md)"
```

---

## Prompt

You are an autonomous senior full-stack engineer. Your job is to add a new workout split called **"Glute Hypertrophy"** to the app. This is a 5-day, lower-body-biased split (3 lower days, 2 upper days) designed for glute-focused hypertrophy, inspired by the "Strong Curves" methodology.

Do NOT ask for any user input. Read every referenced file before editing. Run `npm run build` after each step to catch errors early.

---

## THE SPLIT

**Plan Name:** Glute Hypertrophy
**Plan ID:** `00000000-0000-0000-0000-000000000007`
**Days:** 5 workout days + 2 rest days
**Default Schedule:** Day 1, Day 2, Rest, Day 3, Day 4, Rest, Day 5 (then rest on Day 7)

### Day 1: Lower A — Posterior Chain (Glutes & Hamstrings)
Focus: Heavy compound movements to build glute mass.

**Warm-up (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Incline Treadmill Walk | — | 5 min | 3% incline, moderate pace |
| Banded Glute Bridges | 2 | 15 | Squeeze at top, pause 2 sec |
| Banded Lateral Walks | 2 | 10/side | Fire up glute medius |
| Leg Swings | 2 | 10/side | Forward/back + side to side |

**Main Lifting (50 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Barbell Hip Thrust | 4 | 8-10 | 2-3 min rest, heavy, pause at top |
| Romanian Deadlift | 4 | 8-10 | 2 min rest, hinge deep, feel hamstrings |
| Glute-focused Hyperextension | 3 | 12-15 | Round upper back, squeeze glutes |
| Seated Leg Curl | 3 | 10-12 | 90 sec rest, slow eccentric |
| Single-leg Hip Thrust | 3 | 10-12/side | Body weight or light load, per side |
| Cable Pull-through | 3 | 12-15 | Hinge, squeeze glutes at top |

**Abs/Core (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Dead Bug | 3 | 10/side | Brace core, low back flat on floor |
| Plank | 3 | 45 sec | Squeeze glutes, don't sag |
| Pallof Press | 3 | 10/side | Anti-rotation, controlled |

---

### Day 2: Upper A — Push & Pull (Structure & Posture)
Focus: Maintaining upper body strength and balanced posture.

**Warm-up (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Incline Treadmill Walk | — | 3 min | Light pace, loosen up |
| Band Pull-Aparts | 2 | 15 | Shoulders back, squeeze rear delts |
| Arm Circles | 2 | 10/side | Forward and backward |
| Cat-Cow Stretch | 2 | 8 | Open up thoracic spine |

**Main Lifting (45 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Incline Dumbbell Press | 4 | 8-10 | 2 min rest, 30° incline, full ROM |
| Lat Pulldown | 4 | 10-12 | 90 sec rest, pull to chest, squeeze lats |
| Overhead Press (Dumbbell) | 3 | 8-10 | 90 sec rest, brace core, full lockout |
| Single-arm Dumbbell Row | 3 | 10-12/side | 90 sec rest, pull to hip, squeeze back |
| Lateral Raises | 3 | 12-15 | 60 sec rest, slight lean forward |
| Tricep Pushdown | 3 | 12-15 | 60 sec rest, elbows pinned |
| Face Pulls | 3 | 15 | 60 sec rest, pull to forehead, external rotate |

**Abs/Core (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Hanging Knee Raises | 3 | 12-15 | Control the swing |
| Cable Woodchop | 3 | 10/side | Rotate through core, not arms |

---

### Day 3: Lower B — Anterior Chain (Quads & Glutes)
Focus: Squat patterns and unilateral movements.

**Warm-up (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Bike or Stair Stepper | — | 5 min | Easy pace, warm up legs |
| Bodyweight Squats | 2 | 15 | Full depth, activate quads |
| Walking Quad Stretch | 2 | 8/side | Dynamic, open hip flexors |
| Banded Monster Walks | 2 | 10/side | Forward and lateral |

**Main Lifting (50 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Barbell Squat | 4 | 6-8 | 2-3 min rest, below parallel, brace core |
| Bulgarian Split Squat | 3 | 10-12/side | 90 sec rest, lean forward slightly for glutes |
| Walking Lunges | 3 | 12/side | 90 sec rest, long stride, push through heel |
| Leg Press | 3 | 10-12 | High foot placement for glutes, full depth |
| Leg Extension | 3 | 12-15 | 60 sec rest, squeeze at top |
| Leg Curl (Lying) | 3 | 10-12 | 60 sec rest, slow eccentric |

**Abs/Core (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Reverse Crunch | 3 | 15 | Curl pelvis toward ribs |
| Side Plank | 3 | 30 sec/side | Stack hips, don't sag |
| Bird Dog | 3 | 10/side | Controlled, extend opposite arm and leg |

---

### Day 4: Upper B — Sculpting (Shoulders & Back Focus)
Focus: Lighter weight, higher reps, aesthetic sculpting.

**Warm-up (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Jump Rope or Jumping Jacks | — | 2 min | Get heart rate up |
| Band Dislocates | 2 | 10 | Open up shoulders |
| Scapula Push-ups | 2 | 10 | Protract and retract shoulder blades |

**Main Lifting (40 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Face Pulls | 3 | 15-20 | 60 sec rest, posture focus |
| Lateral Raises | 4 | 12-15 | 60 sec rest, controlled tempo |
| Push-ups | 3 | 12-15 | Full range, chest to floor |
| Cable Row (Seated) | 3 | 12-15 | 60 sec rest, squeeze shoulder blades |
| Bicep Curl (Dumbbell) | 3 | 12-15 | 60 sec rest, no swinging |
| Overhead Tricep Extension | 3 | 12-15 | 60 sec rest, stretch at bottom |
| Rear Delt Fly | 3 | 15-20 | Light weight, slow squeeze |

**Abs/Core (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Ab Wheel Rollout | 3 | 10 | On knees if needed, brace hard |
| Russian Twist | 3 | 15/side | Controlled rotation |

---

### Day 5: Lower C — Glute Isolation (Pump Day)
Focus: High reps, metabolic stress, shaping. No heavy compounds.

**Warm-up (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Bike | — | 5 min | Easy spin, warm up |
| Banded Clamshells | 2 | 15/side | Activate glute medius |
| Banded Fire Hydrants | 2 | 12/side | Squeeze at top |
| Glute Bridge Hold | 2 | 20 sec | Squeeze and hold at top |

**Main Lifting (45 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Cable Glute Kickback | 4 | 15/side | 60 sec rest, squeeze at top, no swinging |
| Abductor Machine | 4 | 15-20 | 60 sec rest, slow and controlled |
| Cable Pull-through | 3 | 15-20 | Hinge, full glute contraction at top |
| Frog Pumps | 3 | 20-25 | Feet together, knees out, high reps |
| Banded Lateral Walk | 3 | 15/side | Stay low in quarter squat |
| Step-ups (Dumbbell) | 3 | 12/side | Drive through heel, glute focus |
| Smith Machine Hip Thrust | 3 | 12-15 | Moderate weight, full squeeze |

**Abs/Core (10 min):**
| Exercise | Sets | Reps | Notes |
|----------|------|------|-------|
| Flutter Kicks | 3 | 20 | Low back stays on floor |
| Glute Bridge March | 3 | 10/side | Hold bridge, alternate legs |
| Mountain Climbers | 3 | 20 | Controlled, engage core |

---

## IMPLEMENTATION STEPS

### Step 1: Create the Database Migration

**File:** `supabase/migrations/20240217000000_add_glute_hypertrophy_split.sql`

Follow the exact same UUID convention as `20240210000000_add_workout_splits.sql`:
- Plan ID: `00000000-0000-0000-0000-000000000007`
- Day IDs: `00000000-0000-0000-0000-000000000071` through `...075` (5 days)
- Section IDs: `00000000-0000-0000-0000-000000000711` (Day 1 Warm-up), `...712` (Day 1 Main), `...713` (Day 1 Abs), `...721` (Day 2 Warm-up), etc.

Insert the plan:
```sql
INSERT INTO workout_plans (id, name) VALUES
  ('00000000-0000-0000-0000-000000000007', 'Glute Hypertrophy');
```

Insert all 5 workout_days:
```sql
INSERT INTO workout_days (id, plan_id, day_number, name) VALUES
  ('00000000-0000-0000-0000-000000000071', '00000000-0000-0000-0000-000000000007', 1, 'Lower A (Glutes & Hamstrings)'),
  ('00000000-0000-0000-0000-000000000072', '00000000-0000-0000-0000-000000000007', 2, 'Upper A (Push & Pull)'),
  ('00000000-0000-0000-0000-000000000073', '00000000-0000-0000-0000-000000000007', 3, 'Lower B (Quads & Glutes)'),
  ('00000000-0000-0000-0000-000000000074', '00000000-0000-0000-0000-000000000007', 4, 'Upper B (Shoulders & Back)'),
  ('00000000-0000-0000-0000-000000000075', '00000000-0000-0000-0000-000000000007', 5, 'Lower C (Glute Isolation)');
```

Then insert exercise_sections (3 per day: Warm-up, Main Lifting, Abs/Core) and plan_exercises for every exercise listed above. Follow the EXACT format of the existing migration — use `NULL` for cardio-style exercises with no sets count, use `is_per_side` for unilateral exercises, include `notes`, and use proper `reps_unit` (`'reps'`, `'seconds'`, `'minutes'`).

### Step 2: Update `src/config/planConstants.ts`

Add the new plan ID and split name:
```typescript
export const GLUTE_HYPERTROPHY_PLAN_ID = '00000000-0000-0000-0000-000000000007'

// Add to SPLIT_NAMES:
[GLUTE_HYPERTROPHY_PLAN_ID]: 'Glute Hypertrophy',
```

### Step 3: Update `src/config/workoutConfig.ts`

Add WEIGHTS_CONFIG entries for the 5 new day names. Use warm pink/rose tones to differentiate from other splits:

```typescript
// Glute Hypertrophy days
'lower a': { color: '#F43F5E', bgColor: '#F43F5E20', gradient: 'from-rose-500 to-rose-400', icon: Footprints },
'upper a': { color: '#FB923C', bgColor: '#FB923C20', gradient: 'from-orange-400 to-orange-300', icon: ArrowUp },
'lower b': { color: '#EC4899', bgColor: '#EC489920', gradient: 'from-pink-500 to-pink-400', icon: Footprints },
'upper b': { color: '#F59E0B', bgColor: '#F59E0B20', gradient: 'from-amber-500 to-amber-400', icon: ArrowUp },
'lower c': { color: '#E879F9', bgColor: '#E879F920', gradient: 'from-fuchsia-400 to-fuchsia-300', icon: Footprints },
```

Add WORKOUT_DISPLAY_NAMES entries:
```typescript
'lower a': 'Lower A',
'upper a': 'Upper A',
'lower b': 'Lower B',
'upper b': 'Upper B',
'lower c': 'Lower C',
```

**Important:** The `getWeightsStyleByName()` function uses keyword matching. The names "Lower A" and "Upper A" will match the existing `lower`/`upper` keywords. To prevent this, add DIRECT lookups BEFORE the keyword fallback. Read the function and ensure the direct lookup on line ~266 (`if (WEIGHTS_CONFIG[lower]) return WEIGHTS_CONFIG[lower]`) catches these. The DB names are `'Lower A (Glutes & Hamstrings)'` etc. — the function strips to first word, so we need to handle multi-word matches.

Update `getWeightsStyleByName()` to check for "lower a", "lower b", "lower c", "upper a", "upper b" patterns BEFORE the generic "lower"/"upper" fallback:
```typescript
// Add these before the generic keyword checks:
if (lower.includes('lower a')) return WEIGHTS_CONFIG['lower a']
if (lower.includes('lower b')) return WEIGHTS_CONFIG['lower b']
if (lower.includes('lower c')) return WEIGHTS_CONFIG['lower c']
if (lower.includes('upper a')) return WEIGHTS_CONFIG['upper a']
if (lower.includes('upper b')) return WEIGHTS_CONFIG['upper b']
```

### Step 4: Update `src/components/onboarding/OnboardingWizard.tsx`

Add the import:
```typescript
import { GLUTE_HYPERTROPHY_PLAN_ID } from '@/config/planConstants'
```

Add a new split card in the onboarding wizard. Find where the existing 5 split cards are rendered and add a 6th. Use a description like:

**Title:** Glute Hypertrophy
**Subtitle:** 3 Lower / 2 Upper · 5 days
**Description:** Lower body focused with 3 glute days and 2 upper body days. Based on the Strong Curves approach.

### Step 5: Update `src/pages/Profile.tsx`

Find the split selection section and add the new split button. Match the existing pattern for the other 5 splits.

### Step 6: Update `src/services/scheduleService.ts`

In `initializeDefaultSchedule()`, add a case for the Glute Hypertrophy plan. Import the new plan ID:

```typescript
import { GLUTE_HYPERTROPHY_PLAN_ID } from '@/config/planConstants'
```

Add the default schedule logic:
```typescript
} else if (planId === GLUTE_HYPERTROPHY_PLAN_ID) {
  // Glute Hypertrophy: Lower A, Upper A, Rest, Lower B, Upper B, Lower C, Rest
  defaultSchedule = [
    { day_number: 1, workout_day_id: workoutDays?.[0]?.id || null, is_rest_day: false },
    { day_number: 2, workout_day_id: workoutDays?.[1]?.id || null, is_rest_day: false },
    { day_number: 3, is_rest_day: true, workout_day_id: null },
    { day_number: 4, workout_day_id: workoutDays?.[2]?.id || null, is_rest_day: false },
    { day_number: 5, workout_day_id: workoutDays?.[3]?.id || null, is_rest_day: false },
    { day_number: 6, workout_day_id: workoutDays?.[4]?.id || null, is_rest_day: false },
    { day_number: 7, is_rest_day: true, workout_day_id: null }
  ]
}
```

Place this BEFORE the `workoutDays.length === 2` (Upper/Lower) check to ensure it's matched by ID.

### Step 7: Update the `getWeightsKey()` function in `ScheduleDayEditor.tsx`

Read `src/components/schedule/ScheduleDayEditor.tsx`. The `getWeightsKey()` helper maps workout names to WEIGHTS_CONFIG keys. It currently handles push/pull/legs/upper/lower. Add handling for the Glute Hypertrophy names:

```typescript
if (lower.includes('lower a')) return 'lower a'
if (lower.includes('lower b')) return 'lower b'
if (lower.includes('lower c')) return 'lower c'
if (lower.includes('upper a')) return 'upper a'
if (lower.includes('upper b')) return 'upper b'
```

Add these BEFORE the generic `if (lower.includes('upper'))` and `if (lower.includes('lower'))` checks so they match first.

### Step 8: Build & Test

1. Run `npm run build` — zero errors
2. Run `npm run lint` — fix any issues
3. Run `npx vitest run` — all tests pass, fix any that break

### Step 9: Write New Tests

**Extend:** `src/config/__tests__/workoutConfig.test.ts`
- Test `getWeightsStyleByName()` with 'Lower A (Glutes & Hamstrings)' returns the lower a style (not generic lower)
- Test `getWeightsStyleByName()` with 'Upper A (Push & Pull)' returns the upper a style (not generic upper)
- Test `getWorkoutDisplayName()` with all 5 new day names returns correct display names

**Extend:** `src/config/__tests__/planConstants.test.ts`
- Test GLUTE_HYPERTROPHY_PLAN_ID exists and equals the correct UUID
- Test SPLIT_NAMES includes 'Glute Hypertrophy'

**Extend:** `src/services/__tests__/scheduleService.test.ts` or `src/services/__tests__/scheduleService.newSplits.test.ts`
- Test `initializeDefaultSchedule()` with GLUTE_HYPERTROPHY_PLAN_ID creates the correct 5-workout + 2-rest default

### Step 10: Final Verification

1. Run `npm run build` — zero errors
2. Run `npm run lint` — zero errors
3. Run `npx vitest run --reporter=verbose` — all tests pass
4. Verify no hardcoded plan ID references exist (should always use `GLUTE_HYPERTROPHY_PLAN_ID`)

Do NOT skip any step. Do NOT ask for input. Work through everything systematically.
